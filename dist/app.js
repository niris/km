!function(t){var e={};function a(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=e,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/",a(a.s=13)}([function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var a=function(t,e){var a=t[1]||"",i=t[3];if(!i)return a;if(e&&"function"==typeof btoa){var r=(s=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),n=i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"});return[a].concat(n).concat([r]).join("\n")}var s;return[a].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+a+"}":a}).join("")},e.i=function(t,a){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var n=this[r][0];"number"==typeof n&&(i[n]=!0)}for(r=0;r<t.length;r++){var s=t[r];"number"==typeof s[0]&&i[s[0]]||(a&&!s[2]?s[2]=a:a&&(s[2]="("+s[2]+") and ("+a+")"),e.push(s))}},e}},function(t,e,a){var i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var r=a(19),n={},s=i&&(document.head||document.getElementsByTagName("head")[0]),o=null,l=0,d=!1,c=function(){},u=null,p="data-vue-ssr-id",v="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(t){for(var e=0;e<t.length;e++){var a=t[e],i=n[a.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](a.parts[r]);for(;r<a.parts.length;r++)i.parts.push(f(a.parts[r]));i.parts.length>a.parts.length&&(i.parts.length=a.parts.length)}else{var s=[];for(r=0;r<a.parts.length;r++)s.push(f(a.parts[r]));n[a.id]={id:a.id,refs:1,parts:s}}}}function m(){var t=document.createElement("style");return t.type="text/css",s.appendChild(t),t}function f(t){var e,a,i=document.querySelector("style["+p+'~="'+t.id+'"]');if(i){if(d)return c;i.parentNode.removeChild(i)}if(v){var r=l++;i=o||(o=m()),e=y.bind(null,i,r,!1),a=y.bind(null,i,r,!0)}else i=m(),e=function(t,e){var a=e.css,i=e.media,r=e.sourceMap;i&&t.setAttribute("media",i);u.ssrId&&t.setAttribute(p,e.id);r&&(a+="\n/*# sourceURL="+r.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");if(t.styleSheet)t.styleSheet.cssText=a;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(a))}}.bind(null,i),a=function(){i.parentNode.removeChild(i)};return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else a()}}t.exports=function(t,e,a,i){d=a,u=i||{};var s=r(t,e);return h(s),function(e){for(var a=[],i=0;i<s.length;i++){var o=s[i];(l=n[o.id]).refs--,a.push(l)}e?h(s=r(t,e)):s=[];for(i=0;i<a.length;i++){var l;if(0===(l=a[i]).refs){for(var d=0;d<l.parts.length;d++)l.parts[d]();delete n[l.id]}}}};var g,_=(g=[],function(t,e){return g[t]=e,g.filter(Boolean).join("\n")});function y(t,e,a,i){var r=a?"":i.css;if(t.styleSheet)t.styleSheet.cssText=_(e,r);else{var n=document.createTextNode(r),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(n,s[e]):t.appendChild(n)}}},function(t,e){t.exports=function(t,e,a,i,r,n){var s,o=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(s=t,o=t.default);var d,c="function"==typeof o?o.options:o;if(e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0),a&&(c.functional=!0),r&&(c._scopeId=r),n?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(n)},c._ssrRegister=d):i&&(d=i),d){var u=c.functional,p=u?c.render:c.beforeCreate;u?(c._injectStyles=d,c.render=function(t,e){return d.call(e),p(t,e)}):c.beforeCreate=p?[].concat(p,d):[d]}return{esModule:s,exports:o,options:c}}},function(t,e,a){"use strict";var i=a(20),r=a(24);e.a={components:{NavBar:i.a,Toaster:r.a}}},function(t,e,a){"use strict";e.a={methods:{login(t){this.sfetch(t).then(t=>this.$root.$refs.toast("Sign In Successful. Welcome !")).catch(t=>this.$root.$refs.toast(t))},logout(){this.$root.token=""}}}},function(t,e,a){"use strict";e.a={mounted(){this.$root.$refs.toast=function(t){toaster.innerHTML=t,toaster.hidden=!1,setTimeout(()=>toaster.hidden=!0,5e3)}}}},function(t,e,a){"use strict";var i=a(7);e.a={components:{Graph:i.a},data:()=>({users:null,activities:null,selected:"any",seen:!0,searchtext:"",options:[{text:"ทั้งหมด",value:"any"},{text:"ผู้เชี่ยวชาญ",value:"user"},{text:"กิจกรรม",value:"activity"}]}),methods:{search(t){this.users=this.activities=null,this.sfetch(t.target).then(t=>t.json()).then(([t,e])=>[this.users,this.activities]=[t,e]).catch(this.$root.$refs.toast),this.seen=!1},flush(){this.searchtext="",this.seen=!0}}}},function(t,e,a){"use strict";var i=a(8),r=a(34);var n=function(t){a(32)},s=a(2)(i.a,r.a,!1,n,"data-v-20275996",null);e.a=s.exports},function(t,e,a){"use strict";e.a={props:["id"],data:()=>({userinfo:{},seen:!1,selected:"B",options:[{text:"กราฟสมบูรณ์",value:"A"},{text:"ผู้เชี่ยวชาญ/ความชำนาญ",value:"B"},{text:"ผู้เชี่ยวชาญ/หน่วยงาน",value:"C"},{text:"ความชำนาญ/หน่วยงาน",value:"D"}]}),mounted(){this.load()},methods:{load(t){this.sfetch(this.id?`/api/user/${this.id}/proj`:"/api/user/proj").then(t=>t.json()).then(e=>this.graph(this.id?this.transform(e,!0,t):this.transform(e,!1,t))),this.closeUserDialog()},transform(t,e,a){return"D"==this.option?this.domaindepartemnnt(t,e,a):this.optiontransform(t,e,a)},optiontransform(t,e,a){var i=[],r=[],n={},s={};return t.forEach(t=>{"D"!=a&&i.push({id:t._id,label:t.firstName,group:1,level:1,avatar:t.avatar}),"A"!=a&&"C"!=a||"D"==a||(r.push({source:t._id,target:t.department,relation:"work",strenght:1}),s[t.department]=!0,r.push({source:t._id,target:t.department,relation:"work",strenght:1})),"C"!=a&&"D"!=a&&(t.domain.constructor==String&&(t.domain=t.domain.split(/\n/)),t.domain.forEach(e=>{n[e]=!0,r.push({source:t._id,target:e,relation:"competency",strenght:1})})),"D"==a&&(t.domain.constructor==String&&(t.domain=t.domain.split(/\n/)),t.domain.forEach(e=>{n[e]=!0,s[t.department]=!0,r.push({source:t.department,target:e,relation:"competency",strenght:1})}))}),"C"==a&&"D"!=a||Object.keys(n).forEach(t=>i.push({id:t,label:t,group:3,level:3})),"A"!=a&&"D"!=a&&"C"!=a||Object.keys(s).forEach(t=>i.push({id:t,label:t,group:2,level:2})),console.log(i,r),{nodes:i,links:r}},graph({nodes:t,links:e}){var a=720;d3.select("#graph").selectAll("g").remove();var i=d3.select("#graph").attr("width",a).attr("height",720).attr("viewBox",`0 0 ${a} 720`).call(d3.zoom().on("zoom",function(){i.attr("transform",d3.event.transform)})).append("g"),r=d3.scaleOrdinal(["#2B2D42","#2B2D42","#972c02","#66c2a5","#fc8d62","#e78ac3"]),n=["1em","1em","1.2em"],s=d3.forceLink().id(t=>t.id).strength(t=>t.strenght).distance(.15*a),o=d3.forceSimulation().force("link",s).force("charge",d3.forceManyBody().strength(-a)).force("center",d3.forceCenter(a/2,360)).force("y",d3.forceY(.01)).force("x",d3.forceX(.01)),l=d3.drag().on("start",t=>{t.fx=t.x,t.fy=t.y}).on("drag",function(t){o.alphaTarget(.7).restart(),t.fx=d3.event.x,t.fy=d3.event.y}).on("end",function(t){d3.event.active||o.alphaTarget(0),t.fx=null,t.fy=null}),d=i.selectAll("line").data(e).enter().append("path").attr("class","links").attr("stroke","rgba(50, 50, 50, 0.2)").attr("stroke-width","1px");d.style("fill","none");var c=i.selectAll(".node").data(t).enter().append("g").attr("class","node").call(l);i.append("defs").selectAll(".node-pattern").data(t).enter().append("pattern").attr("id",t=>t.id.toLowerCase().replace(/ /g,"-")).attr("height","100%").attr("width","100%").attr("patternContentUnits","objectBoundingBox").append("image").attr("height",1).attr("width",1).attr("xlink:href",t=>[t.avatar||"https://image.flaticon.com/icons/png/512/149/149071.png","",""][t.level-1]);c.append("circle").attr("r",t=>1==t.level?"3%":"0").attr("fill",t=>"url(#"+t.id.toLowerCase().replace(/ /g,"-")+")").on("mouseover",function(t,e){2!=t.level&&d3.select(this).transition().attr("cursor",function(t){if("1"==t.level)return"pointer"});v(t);d.attr("stroke",function(e){return p(t,e)}),d.attr("stroke-width",function(e){return function(t,e){return h(t,e)?3:1}(t,e)}),u.attr("font-weight",function(e){return t.id==e.id?700:["lighter",700,350][e.level-1]})}).on("mouseout",function(t){2!=t.level&&d3.select(this).transition().attr("x",function(t){return-a/35}).attr("y",function(t){return-a/30}).attr("height","7.5%").attr("width","7.5%");d.attr("stroke-width",1).attr("stroke","rgba(50, 50, 50, 0.2)"),u.attr("font-weight",function(t){return["lighter",700,350][t.level-1]})}).on("click",this.showpopup);var u=i.append("g").selectAll("text").data(t).enter().append("text").text(t=>t.label).attr("font-size",function(t){return n[t.level-1]}).attr("font-weight",function(t){return["lighter",700,350][t.level-1]}).attr("uid",function(t){return t.id}).attr("text-anchor",function(t){return["start","middle","middle"][t.level-1]}).attr("dy",t=>{if(1==t.level)return 32.4}).attr("dx",t=>{if(1==t.level)return-.025*a}).attr("fill",function(t){return r(t.level)}).call(l).on("click",this.showpopup);function p(t,e){return h(t,e)?"#c1c1d7":"#E5E5E5"}function v(t){return e.reduce(function(e,a){return a.target.id===t.id?e.push(a.source.id):a.source.id===t.id&&e.push(a.target.id),e},[t.id])}function h(t,e){return e.target.id===t.id||e.source.id===t.id}u.exit().remove(),o.nodes(t).on("tick",()=>{d.attr("d",function(t){var e=t.target.x-t.source.x,a=t.target.y-t.source.y,i=Math.sqrt(e*e+a*a);return"M"+t.source.x+","+t.source.y+"A"+i+","+i+" 0 0,1 "+t.target.x+","+t.target.y}),c.attr("cx",function(t){return t.x=Math.max(2,Math.min(a-2,t.x))}).attr("cy",function(t){return t.y=Math.max(2,Math.min(718,t.y))}),c.attr("transform",function(t){return"translate("+t.x+","+t.y+")"}),u.attr("x",t=>t.x).attr("y",t=>t.y),t[0].x=a/2,t[0].y=360}),o.force("link").links(e)},showpopup(t){1==t.level&&(console.log(t.id),this.sfetch("/api/user/"+t.id).then(t=>t.json()).then(t=>{this.userinfo=t,userDialog.hidden=!1,this.seen=!0}))},closeUserDialog(){userDialog.hidden=!0,this.seen=!1}},watch:{selected:function(t){this.load(t)},id:function(t){this.load(this.selected)}}}},function(t,e,a){"use strict";var i=a(10);e.a={components:{TagList:i.a},props:["id"],data:()=>({editmode:!1,activity:{}}),computed:{edit:function(){return!this.id||this.editmode},create:function(){return!this.id},update:function(){return this.activity.u_id&&this.$root.token.startsWith(this.activity.u_id)},search:function(){return this.activity.u_id&&!this.$root.token.startsWith(this.activity.u_id)}},created(){this.load(this.$route.params.id)},watch:{"$route.params.id":function(t){this.load(t)}},methods:{print(){var t=new jsPDF;t.fromHTML(this.$el),t.save(`${this.id}.pdf`)},md:t=>marked(t,{sanitize:!0}),post(t){if(document.activeElement instanceof HTMLInputElement)return t.target[[].slice.call(t.target).findIndex(t=>t==document.activeElement)+1].focus();this.sfetch(t.target).then(t=>t.json()).then(t=>{this.$root.$refs.toast("Activity saved"),t.insertedIds?this.$router.push({name:"Activity",params:{id:t.insertedIds[0]}}):this.load(this.$route.params.id),this.editmode=!1}).catch(this.$root.$refs.toast)},load(t){this.activity={},t&&this.sfetch(`/api/activity/${t}`).then(t=>t.json()).then(t=>{if(!t)throw new Error("no such template");this.activity=t}).catch(this.$root.$refs.toast)}}}},function(t,e,a){"use strict";var i=a(11),r=a(41);var n=function(t){a(39)},s=a(2)(i.a,r.a,!1,n,"data-v-79c67b48",null);e.a=s.exports},function(t,e,a){"use strict";e.a={props:["list","placeholder","name","from"],data:()=>({nextId:0,nextTitle:"",values:["data"],datalist:[]}),computed:{datalistId(){return`datalist-${this.name}`}},methods:{remove(t){t.title="",this.deflate()},deflate(){let t=this.values,e=(this.$el.querySelectorAll("input"),t.findIndex((t,e)=>""==t.title));e>=0&&e!=t.length-1&&t.splice(e,1)},inflate(t){let e=this.values;e.length&&!e[e.length-1].title||e.push({title:this.nextTitle,id:this.nextId++}),this.autocomplete(t)},autocomplete(t){if(this.name&&this.from&&t){var e=this.name.match(/\w+/)[0],a=t.target.value;this.sfetch(this.from,{[e]:a}).then(t=>t.json()).then(t=>{this.datalist=[...new Set([].concat(...t.map(t=>t[e])))].filter(t=>t.match(a))}).catch(console.error)}},value(){return this.values.map(t=>t.title).filter(t=>""!==t)}},created(){this.values=(this._props.list||[]).map(t=>({title:t,id:this.nextId++})),this.inflate()}}},function(t,e,a){"use strict";var i=a(7),r=a(10);e.a={components:{Graph:i.a,TagList:r.a},props:["id","summary"],data:()=>({editmode:!1,img:null,avatar:null,user:{}}),computed:{edit:function(){return this.create||this.editmode},create:function(){return!this.id},update:function(){return this.id&&this.$root.token.startsWith(this.id)},search:function(){return this.id&&!this.$root.token.startsWith(this.id)}},created(){this.load(this.id),this.img=document.createElement("img"),this.img.onload=(()=>{this.$el.querySelector("details").hidden=!1;let t=document.createElement("canvas");t.width=t.height=256,t.getContext("2d").drawImage(this.img,this.img.width*leftcrop.value,this.img.height*topcrop.value,this.img.width*rightcrop.value,this.img.height*bottomcrop.value,0,0,t.width,t.height),this.avatar=t.toDataURL("image/jpeg",.2)})},methods:{thumb(t){let e=this.$el.querySelector(".avatar [type=file]");e.files.length?this.img.src=window.URL.createObjectURL(e.files[0]):this.img.src&&this.img.onload()},md:t=>t?marked(t,{sanitize:!0}):"",autocomplete(t){var e=t.target.name.match(/\w+/)[0],a=t.target.value;this.sfetch("/api/user",{[e]:a}).then(t=>t.json()).then(t=>{var i=[...new Set([].concat(...t.map(t=>t[e])))].filter(t=>t.match(a)&&a!=t);document.getElementById("suggests").innerHTML=i?i.map(t=>"<option>"+t+"</option>"):""}).catch(console.error)},load(t){this.user={domain:[],publications:[],knowledge:[]},t&&(this.sfetch(`/api/user/${t}`).then(t=>t.json()).then(t=>this.user=t).catch(t=>this.$root.$refs.toast),scrollTo(0,0))},post(t){if(document.activeElement instanceof HTMLInputElement)return t.target[[].slice.call(t.target).findIndex(t=>t==document.activeElement)+1].focus();this.sfetch(t.target).then(t=>t.json()).then(t=>{this.create?(this.$root.$refs.toast(`Profil Created ! You are now connected as ${t._id}`),this.$router.push({name:"User",params:{id:t._id}})):(this.$root.$refs.toast("Profil Updated"),this.load(this.id),this.editmode=!1)}).catch(this.$root.$refs.toast)},activityDelete(t){this.sfetch(t.target).then(t=>t.json()).then(t=>{this.$root.$refs.toast("Activity Deleted"),this.load(this.id)}).catch(this.$root.$refs.toast)},graph({nodes:t,links:e}){var a=window.innerWidth,i=window.innerHeight;d3.select("#graph").attr("width",a).attr("height",i)}},watch:{id:function(t){this.load(t)}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(14),r=a.n(i),n=a(15),s=a.n(n),o=a(16),l=a(29),d=a(36),c=a(43);r.a.use(s.a),r.a.mixin({methods:{sfetch(t,e=""){var a={headers:{authorization:localStorage.token},method:((t.attributes||{}).method||{}).value||"GET",query:e};return t instanceof HTMLFormElement?(a.method.match(/^POST$/i)?a.body=new FormData(t):a.query="?"+new URLSearchParams(new FormData(t)),a.path=new URL(t.action).pathname):(a.path=t,a.query="?"+Object.keys(a.query).map(t=>encodeURIComponent(t)+"="+encodeURIComponent(a.query[t])).join("&")),fetch(a.path+a.query,a).then(t=>{if(!t.ok)throw Error(t.statusText);return t.headers.has("authorization")&&(this.$root.token=t.headers.get("authorization")),t})}}}),new r.a({el:"#app",render:t=>t(o.a),data:function(){return{get token(){return localStorage.getItem("token")||""},set token(t){localStorage.setItem("token",t)},get me(){return(localStorage.getItem("token")||"").split(" ")[0]}}},router:new s.a({mode:"history",routes:[{path:"/",name:"Home",component:l.a},{path:"/activity/:id?",name:"Activity",component:d.a,props:!0},{path:"/user/:id?",name:"User",component:c.a,props:!0}]})})},function(t,e){t.exports=Vue},function(t,e){t.exports=VueRouter},function(t,e,a){"use strict";var i=a(3),r=a(28);var n=function(t){a(17)},s=a(2)(i.a,r.a,!1,n,null,null);e.a=s.exports},function(t,e,a){var i=a(18);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(1)("a3153a3e",i,!0,{})},function(t,e,a){(t.exports=a(0)(!1)).push([t.i,"body{background:#ededed}@media only screen{main{background:hsla(0,0%,100%,.85);border:1px solid #ccc;border-radius:.4em;padding:1em 2em 2em;margin:2em auto}}button{cursor:pointer}@media (min-width:500px){.grid-m-a label{line-height:2.5;text-align:right}.grid-m-a p,.grid-m-a ul{line-height:2.5;margin:0}.grid-m-a{display:grid;grid-gap:.5em 1em;grid-template-columns:auto 1fr}.grid-m-a label>em{display:block;clear:both;line-height:0;font-size:smaller}}@media print{.fab{display:none!important}}.fab{position:fixed;bottom:.5em;right:calc(50% - 480px);z-index:99}@media (max-width:960px){.fab{right:.5em}}.fab button{border-radius:10em;font-size:xx-large;display:block;margin:.5em;width:2em}.tags{margin:0;padding:0}.tags li{display:inline-block;border-radius:1em;padding:0 .5em;line-height:1.5em;margin-right:.5em;box-shadow:.05em .05em .1em}.tags li.tag2{font-size:small}.tags input{background:none!important;border:none!important;box-shadow:none!important;-webkit-box-shadow:none!important;padding:0;width:9em}.tags button{margin:0;padding:0;min-width:1.5em;min-height:1.5em}",""])},function(t,e){t.exports=function(t,e){for(var a=[],i={},r=0;r<e.length;r++){var n=e[r],s=n[0],o={id:t+":"+r,css:n[1],media:n[2],sourceMap:n[3]};i[s]?i[s].parts.push(o):a.push(i[s]={id:s,parts:[o]})}return a}},function(t,e,a){"use strict";var i=a(4),r=a(23);var n=function(t){a(21)},s=a(2)(i.a,r.a,!1,n,"data-v-f678edd8",null);e.a=s.exports},function(t,e,a){var i=a(22);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(1)("5a49070d",i,!0,{})},function(t,e,a){(t.exports=a(0)(!1)).push([t.i,"@media only print{nav[data-v-f678edd8]{display:none!important}}nav[data-v-f678edd8]{position:sticky;top:0;z-index:99;background:#fff;display:flex;justify-content:space-around;max-width:768px;align-items:center;box-shadow:0 .5em .5em -.5em;padding:.5em 0;background:#1d3557;border-radius:0 0 .5em .5em;margin:auto}.logo[data-v-f678edd8]{font-size:0}.logo svg[data-v-f678edd8]{vertical-align:center}@media only screen and (min-width:760px){.logo[data-v-f678edd8]{font-size:2em;font-family:serif}}nav a[data-v-f678edd8],nav a[data-v-f678edd8]:hover{color:#fff;margin:0 .5em;text-align:center;text-transform:capitalize;line-height:1em}nav a.router-link-exact-active[data-v-f678edd8]{text-decoration:underline}nav form[data-v-f678edd8]{display:inline-flex}nav form input[placeholder][data-v-f678edd8]{width:6em}[data-v-f678edd8]::-webkit-input-placeholder{text-align:right}input[data-v-f678edd8]:-moz-placeholder{text-align:right}",""])},function(t,e,a){"use strict";var i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",[a("a",{staticClass:"logo",attrs:{href:"//km.reru.ac.th"}},[a("svg",{attrs:{width:"48px",height:"48px",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"}},[a("defs",[a("radialGradient",{attrs:{id:"svg_4",spreadMethod:"pad"}},[a("stop",{attrs:{"stop-color":"#ffff80",offset:"0"}}),a("stop",{attrs:{"stop-color":"#00007f",offset:"1"}})],1)],1),t._v(" "),a("g",[a("ellipse",{attrs:{fill:"#007f3f","stroke-width":"5",cx:"128",cy:"128.000001",id:"svg_1",rx:"96",ry:"120",stroke:"#bfbf00"}}),t._v(" "),a("ellipse",{attrs:{fill:"url(#svg_4)","stroke-width":"4",cx:"128",cy:"128",id:"svg_2",rx:"75",ry:"100",stroke:"#bfbf00"}}),t._v(" "),a("ellipse",{attrs:{fill:"#007f00","stroke-width":"4",cx:"128",cy:"128",id:"svg_5",rx:"32",ry:"32",stroke:"#bfbf00"}}),t._v(" "),a("path",{attrs:{fill:"#ffffff","stroke-width":"0","stroke-opacity":"null","fill-opacity":"null",d:"m90.000002,191.863804l37.999954,-17.188427l38.000044,17.188427l-14.514659,27.811576l-46.970636,0l-14.514703,-27.811576z",id:"svg_8",stroke:"#bfbf00"}}),t._v(" "),a("path",{attrs:{fill:"#ffffff","stroke-width":"0","stroke-opacity":"null","fill-opacity":"null",d:"m97,88.520624l31.000001,-55l31.000001,55l-62.000002,0z",id:"svg_9",stroke:"#bfbf00"}})])]),t._v(" "),a("span",{staticClass:"km"},[t._v("KM")])]),t._v(" "),a("router-link",{attrs:{to:"/"}},[t._v(" Experts lookup")]),t._v(" "),this.$root.token?a("router-link",{attrs:{title:"เพิ่มกิจกรรมใหม่",to:"/activity"}},[t._v(" Activity")]):t._e(),t._v(" "),this.$root.token?t._e():a("router-link",{attrs:{to:"/user"}},[t._v("Sign Up")]),t._v(" "),this.$root.token?[a("router-link",{attrs:{to:{name:"User",params:{id:this.$root.me}}}},[t._v("My profile")]),t._v(" "),a("button",{attrs:{title:"Sign Out"},on:{click:t.logout}},[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"22px",height:"16px",viewBox:"-4 0 32 32"}},[a("path",{attrs:{d:"m 18,24 0,4 -14,0 0,-24 14,0 0,4 4,0 0,-8 -22,0 0,32 22,0 0,-8 z m -6,-4.003 0,-8 12,0 0,-4 8,8 -8,8 0,-4 z"}})])])]:a("form",{attrs:{method:"POST",action:"/api/token"},on:{submit:function(e){e.preventDefault(),t.login(e.target)}}},[a("input",{attrs:{placeholder:"👤",name:"_id",autocomplete:"username"}}),t._v(" "),a("input",{attrs:{placeholder:"🔑",name:"password",type:"password",autocomplete:"current-password"}}),t._v(" "),a("button",{attrs:{title:"Sign In"}},[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"22px",height:"16px",viewBox:"-4 0 32 32"}},[a("path",{attrs:{d:"m 14,24 v 4 H 28 V 4 H 14 V 8 H 10 V 0 H 32 V 32 H 10 V 24 Z M 6,20 V 12 H 18 V 8 l 8,8 -8,8 v -4 z"}})])])])],2)},staticRenderFns:[]};e.a=i},function(t,e,a){"use strict";var i=a(5),r=a(27);var n=function(t){a(25)},s=a(2)(i.a,r.a,!1,n,"data-v-22608e79",null);e.a=s.exports},function(t,e,a){var i=a(26);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(1)("ffab49ec",i,!0,{})},function(t,e,a){(t.exports=a(0)(!1)).push([t.i,"#toaster[data-v-22608e79]{position:fixed;right:1em;top:1em;background:#333;border:1px solid #000;color:#fff;border-radius:.2em;padding:1em;box-shadow:.15em .15em .2em #000;z-index:999}",""])},function(t,e,a){"use strict";var i={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"toaster",hidden:""}})},staticRenderFns:[]};e.a=i},function(t,e,a){"use strict";var i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("NavBar"),this._v(" "),e("main",[e("router-view")],1),this._v(" "),e("Toaster")],1)},staticRenderFns:[]};e.a=i},function(t,e,a){"use strict";var i=a(6),r=a(35);var n=function(t){a(30)},s=a(2)(i.a,r.a,!1,n,"data-v-433643ed",null);e.a=s.exports},function(t,e,a){var i=a(31);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(1)("022ceaf2",i,!0,{})},function(t,e,a){(t.exports=a(0)(!1)).push([t.i,"h1[data-v-433643ed]{font-size:200%;text-align:center;margin-bottom:25px}h2[data-v-433643ed]{font-size:150%;text-align:left}h4[data-v-433643ed]{margin-top:5%;font-size:125%;text-align:center;color:#a9a9a9}.head[data-v-433643ed]{height:25%}.grp[data-v-433643ed]{height:75%}.search-desc[data-v-433643ed]{margin-top:50px;margin-left:50px}.flex-space-between[data-v-433643ed]{padding:0;display:flex;list-style:none;justify-content:space-between}.placeholder[data-v-433643ed]{width:70%;display:inline-block}.selection[data-v-433643ed]{position:relative;width:20%;display:inline-block;margin-left:1%;margin-right:.5%;font-size:small;padding-top:1.5%}input.back-button[data-v-433643ed]{background-color:hsla(0,0%,100%,.85);width:5%;float:right}button.search-button[data-v-433643ed]{display:inline-block;padding:0 .1}fieldset a[data-v-433643ed]{position:relative;display:inline;right:1.5em;margin-right:-1em;font-size:large}",""])},function(t,e,a){var i=a(33);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(1)("cdad92f6",i,!0,{})},function(t,e,a){(t.exports=a(0)(!1)).push([t.i,'aside[data-v-20275996]{margin:0;position:fixed;top:0;bottom:0;left:0;width:80vw;max-width:400px;z-index:150;padding:5em 0 0;background:hsla(0,0%,100%,.9);overflow:auto;box-shadow:0 0 1em #000}aside nav[data-v-20275996]{position:absolute;top:6em;right:1em}@media screen and (max-width:960px){.fab[data-v-20275996]{right:.5em}}#graph[data-v-20275996]{position:relative;width:100%;height:100vh;vertical-align:center;overflow:hidden;padding:0}img.avatar[data-v-20275996]{border-radius:100%;box-shadow:0 0 .2em 0;width:50%;height:50%;background-size:contain}#button-close[data-v-20275996]{position:absolute;top:5px;right:0}.img-container[data-v-20275996]{position:relative;margin:auto;width:200px;height:120px;margin-bottom:150px}.img-container img[data-v-20275996]{width:100%;height:auto}.img-container .name[data-v-20275996]{margin-top:5%;text-align:center;font-size:large}dl[data-v-20275996]{position:absolute;width:100%;overflow:hidden;padding:0;margin:0;line-height:3}dt[data-v-20275996]{position:relative;float:left;clear:left;width:10%;margin-left:5%;font-weight:550}dd[data-v-20275996]{width:80%;margin-left:20%;font-weight:lighter}dd.router[data-v-20275996]{position:relative;float:right}dd[data-v-20275996]:after{content:"\\A";white-space:pre}.close-area[data-v-20275996]{position:fixed;top:0;left:0;right:0;bottom:0;background:hsla(0,0%,100%,.4);z-index:100}select.select-present[data-v-20275996]{width:35%;margin-left:1.5%;margin-top:1.5%;background-color:hsl(hue,saturation,lightness);font-size:small}.grp[data-v-20275996]{margin-top:5%;border:1px solid #ccc;border-radius:.4em}',""])},function(t,e,a){"use strict";var i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.seen?a("div",{staticClass:"close-area",attrs:{id:"close"},on:{click:t.closeUserDialog}}):t._e(),t._v(" "),a("aside",{staticClass:"sidebar",attrs:{id:"userDialog",hidden:""}},[a("div",{staticClass:"img-container"},[a("img",{staticClass:"avatar",attrs:{src:t.avatar||t.userinfo.avatar||"https://image.flaticon.com/icons/png/512/149/149071.png"}}),t._v(" "),a("div",{staticClass:"name"},[a("router-link",{attrs:{to:"/user/"+t.userinfo._id}},[t._v(" "+t._s(t.userinfo.firstName)+" "+t._s(t.userinfo.lastName))])],1)]),t._v(" "),a("dl",[t._m(0),t._v(" "),a("dd",[t._v(t._s(t.userinfo.department))]),t._v(" "),t._m(1),t._v(" "),a("dd",[t._v(t._s(t.userinfo.function))]),t._v(" "),t._m(2),t._v(" "),a("dd",[a("ul",{staticClass:"tags"},[t._l(t.userinfo.domain,function(e){return a("li",{key:e},[t._v(t._s(e))])}),t._l(t.userinfo.knowledge,function(e){return a("li",{key:e,staticClass:"tag2"},[t._v(t._s(e))])})],2)]),t._v(" "),t._m(3),t._v(" "),a("dd",[a("a",{attrs:{href:"mailto:"+t.userinfo.email}},[t._v(t._s(t.userinfo.email))])])])]),t._v(" "),a("div",{staticClass:"grp"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"select-present",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selected=e.target.multiple?a:a[0]}}},t._l(t.options,function(e){return a("option",{domProps:{value:e.value}},[t._v("\n    "+t._s(e.text)+"\n  ")])})),t._v(" "),a("svg",{attrs:{id:"graph"}})])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("dt",[e("img",{attrs:{src:"/public/img/home.svg"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("dt",[e("img",{attrs:{src:"/public/img/briefcase-24.svg"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("dt",[e("img",{attrs:{src:"/public/img/favourite.svg"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("dt",[e("img",{attrs:{src:"/public/img/email-84.svg"}})])}]};e.a=i},function(t,e,a){"use strict";var i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"head"},[a("h1",[t._v("RERU Experts lookup")]),t._v(" "),a("form",{attrs:{method:"GET",action:"/api/search"},on:{submit:function(e){return e.preventDefault(),t.search(e)}}},[a("fieldset",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchtext,expression:"searchtext"}],staticClass:"placeholder",attrs:{type:"search",name:"keyword",placeholder:"ใส่ keyword สำหรับค้นหา และกด Enter ..."},domProps:{value:t.searchtext},on:{input:function(e){e.target.composing||(t.searchtext=e.target.value)}}}),t._v(" "),t.searchtext?a("a",{on:{click:function(e){t.flush()}}},[t._v("×")]):t._e(),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"selection",attrs:{name:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selected=e.target.multiple?a:a[0]}}},t._l(t.options,function(e){return a("option",{domProps:{value:e.value}},[t._v("\n   \t\t "+t._s(e.text)+"\n  \t")])})),t._v(" "),a("button",{staticClass:"search-button"},[t._v("🔍")])]),t._v(" "),t.searchtext&&!t.seen?a("div",[t.users&&t.users.length?a("h2",[a("img",{attrs:{src:"/public/img/single-01.svg"}}),t._v(" ผู้เชี่ยวชาญ ")]):t._e(),t._v(" "),t.users?a("ul",t._l(t.users,function(e){return a("li",[a("router-link",{attrs:{to:{name:"User",params:{id:e._id}}}},[t._v(t._s(e.firstName)+" "+t._s(e.lastName)+" - "+t._s(e.function)+" "+t._s(e.department))]),t._v("\n\t\t\t\t"+t._s(t.user)+"\n\t\t\t")],1)})):t._e(),t._v(" "),t.activities&&t.activities.length?a("h2",[a("img",{attrs:{src:"/public/img/calendar-60.svg"}}),t._v(" กิจกรรม ")]):t._e(),t._v(" "),t.activities?a("ul",t._l(t.activities,function(e){return a("li",[a("router-link",{attrs:{to:{name:"Activity",params:{id:e._id}}}},[t._v(t._s(e.type)+" - "+t._s(e.name))]),t._v(" by "),a("router-link",{attrs:{to:{name:"User",params:{id:e.u_id}}}},[t._v(t._s(e.u_id))])],1)})):t._e()]):t._e(),t._v(" "),!t.activities||!t.users||t.users.length||t.activities.length||t.seen?t._e():a("h4",[t._v("  ไม่พบข้อมูลสำหรับการค้นหา ☹ ")])])]),t._v(" "),a("div",{staticClass:"grp"},[t.seen?a("Graph",{attrs:{id:""}}):t._e()],1)])},staticRenderFns:[]};e.a=i},function(t,e,a){"use strict";var i=a(9),r=a(42);var n=function(t){a(37)},s=a(2)(i.a,r.a,!1,n,"data-v-9fb2a5e8",null);e.a=s.exports},function(t,e,a){var i=a(38);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(1)("7e4b35eb",i,!0,{})},function(t,e,a){(t.exports=a(0)(!1)).push([t.i,"",""])},function(t,e,a){var i=a(40);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(1)("04188265",i,!0,{})},function(t,e,a){(t.exports=a(0)(!1)).push([t.i,"li[data-v-79c67b48]{position:relative}li a[data-v-79c67b48]{position:absolute;right:.2em;top:0}",""])},function(t,e,a){"use strict";var i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[t._l(t.values,function(e){return a("li",{key:e.id},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"elem.title"}],attrs:{placeholder:t.placeholder,list:t.datalistId,name:t.name},domProps:{value:e.title},on:{keyup:t.inflate,focusout:t.deflate,input:function(a){a.target.composing||t.$set(e,"title",a.target.value)}}}),t._v(" "),t.values&&t.values.length?a("a",{on:{click:function(a){t.remove(e)}}},[t._v("×")]):t._e()])}),t._v(" "),a("datalist",{attrs:{id:t.datalistId}},t._l(t.datalist,function(e){return a("option",{key:e},[t._v(t._s(e))])}))],2)},staticRenderFns:[]};e.a=i},function(t,e,a){"use strict";var i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{attrs:{method:"POST",action:"/api/activity"},on:{submit:function(e){return e.preventDefault(),t.post(e)},keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,"Escape"))return null;t.editmode=!1}}},[t.create?a("h1",[t._v("⊕ เพิ่มกิจกรรมใหม่")]):t._e(),t._v(" "),t.update?a("h1",[t._v("My Activity")]):t._e(),t._v(" "),t.search?a("h1",[t._v("Activity detail")]):t._e(),t._v(" "),this.activity?a("div",{staticClass:"grid-m-a"},[t.id?a("input",{attrs:{type:"hidden",name:"_id"},domProps:{value:t.activity._id}}):t._e(),t._v(" "),t.create?t._e():a("label",[t._v("Owner")]),t._v(" "),t.create?t._e():a("p",[a("router-link",{attrs:{to:{name:"User",params:{id:t.activity.u_id}}}},[t._v(t._s(t.activity.u_id))])],1),t._v(" "),a("label",[t._v("ประเภทกิจกรรม")]),t._v(" "),t.edit?a("select",{attrs:{name:"type",required:""},domProps:{value:t.activity.type}},[a("option",[t._v("งานประชุมวิชาการ")]),t._v(" "),a("option",[t._v("ศึกษาดูงาน")]),t._v(" "),a("option",[t._v("ฝึกอบรม")]),t._v(" "),a("option",[t._v("วิจัย")]),t._v(" "),a("option",[t._v("บริการวิชาการ")]),t._v(" "),a("option",[t._v("ประกวด/แข่งขัน")])]):a("p",[t._v(t._s(t.activity.type))]),t._v(" "),a("label",[t._v("ชื่อกิจกรรม")]),t._v(" "),t.edit?a("input",{attrs:{name:"name",required:""},domProps:{value:t.activity.name}}):a("p",[t._v(t._s(t.activity.name))]),t._v(" "),a("label",[t._v("สถานที่")]),t._v(" "),t.edit?a("input",{attrs:{name:"place",required:""},domProps:{value:t.activity.place}}):a("p",[t._v(t._s(t.activity.place))]),t._v(" "),a("label",[t._v("วันที่เริ่ม")]),t._v(" "),t.edit?a("input",{ref:"start",attrs:{type:"date",name:"from",required:""},domProps:{value:t.activity.from}}):a("p",[t._v(t._s(t.activity.from))]),t._v(" "),a("label",[t._v("วันที่สิ้นสุด")]),t._v(" "),t.edit?a("input",{attrs:{type:"date",name:"to",required:""},domProps:{value:t.activity.to}}):a("p",[t._v(t._s(t.activity.to))]),t._v(" "),a("label",[t._v("คำอธิบาย")]),t._v(" "),t.edit?a("textarea",{attrs:{name:"description",rows:"15"},domProps:{value:t.activity.description}}):a("div",{domProps:{innerHTML:t._s(t.md(t.activity.description||""))}}),t._v(" "),a("label",[t._v("สรุปผลการทำกิจกรรม")]),t._v(" "),t.edit?a("textarea",{attrs:{name:"conclusion",rows:"15"},domProps:{value:t.activity.conclusion}}):a("div",{domProps:{innerHTML:t._s(t.md(t.activity.conclusion||""))}}),t._v(" "),a("label",[t._v("Tags")]),t._v(" "),t.edit?a("TagList",{staticClass:"tags",attrs:{list:t.activity.tags,placeholder:"New Tag...",from:"/api/activity",name:"tags[]"}}):a("ul",{staticClass:"tags"},t._l(t.activity.tags,function(e){return a("li",{key:e},[t._v(t._s(e)+" ")])}))],1):t._e(),t._v(" "),a("datalist",{attrs:{id:"suggests"}}),t._v(" "),a("div",{staticClass:"fab"},[t.edit?t._e():a("button",{attrs:{title:"Print 🖶"},on:{click:function(e){return e.preventDefault(),t.print(e)}}},[t._v("📄")]),t._v(" "),t.create?a("button",[t._v("✓")]):t._e(),t._v(" "),t.update&&t.edit?a("button",{attrs:{title:"Update"}},[t._v("✓")]):t._e(),t._v(" "),t.update&&t.edit?a("button",{attrs:{title:"Cancel"},on:{click:function(e){e.preventDefault(),t.editmode=!1}}},[t._v("✕")]):t._e(),t._v(" "),t.update&&!t.edit?a("button",{attrs:{title:"Edit"},on:{click:function(e){e.preventDefault(),t.editmode=!0}}},[t._v("✎")]):t._e()])])},staticRenderFns:[]};e.a=i},function(t,e,a){"use strict";var i=a(12),r=a(46);var n=function(t){a(44)},s=a(2)(i.a,r.a,!1,n,"data-v-6862b877",null);e.a=s.exports},function(t,e,a){var i=a(45);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(1)("05b52f53",i,!0,{})},function(t,e,a){(t.exports=a(0)(!1)).push([t.i,"h1[data-v-6862b877]{text-align:left}h2[data-v-6862b877]{margin-top:10%;text-align:left}.avatar[data-v-6862b877]{text-align:center;position:relative}.avatar input[type=file][data-v-6862b877]{position:absolute;left:0;width:100%;height:256px;opacity:0;cursor:pointer}.avatar img[data-v-6862b877]{border-radius:100%;box-shadow:0 0 .2em 0;width:256px;height:256px;background-size:contain}.imgedit[data-v-6862b877]{background:#f4f4f4;box-shadow:inset 0 .05em .3em;padding:0 1em;border-radius:.3em}",""])},function(t,e,a){"use strict";var i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{attrs:{method:"POST",action:"/api/users"},on:{submit:function(e){return e.preventDefault(),t.post(e)},keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,"Escape"))return null;t.editmode=!1}}},[t.summary?t._e():[t.create?a("h1",[t._v("⊕ สมัครสมาชิก")]):t._e(),t._v(" "),t.update?a("h1",[a("img",{attrs:{src:"/public/img/badge-13.svg"}}),t._v(" My Account")]):t._e(),t._v(" "),t.search?a("h1",[a("img",{attrs:{src:"/public/img/badge-13.svg"}}),t._v(" ข้อมูลสมาชิก ")]):t._e()],t._v(" "),t.user?a("div",{staticClass:"avatar"},[a("input",{attrs:{name:"avatar",type:"hidden"},domProps:{value:t.avatar||t.user.avatar||""}}),t._v(" "),a("img",{style:"background-image:url(data:image/gif;base64,R0lGODlhDgAOAIAAAICAgP///yH5BAEAAAEALAAAAAAOAA4AAAI"+(t.editmode?"XjI+py30AnIEyUAZzVlq364BfVJUmUwAAOw==":"bjI+JwKDX2otRUZkus3rSZ1TelWlbaGKpujoFADs=")+")",attrs:{src:t.avatar||t.user.avatar||"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="}}),t._v(" "),t.edit?a("input",{attrs:{type:"file"},on:{change:t.thumb}}):t._e(),t._v(" "),t.edit?a("details",{attrs:{hidden:""}},[a("summary",[t._v("Image Position")]),t._v(" "),a("div",{staticClass:"grid-m-a imgedit"},[a("label",[t._v("Horizontal")]),a("input",{staticStyle:{direction:"rtl"},attrs:{type:"range",id:"leftcrop",min:"0",max:".5",step:".01",value:"0"},on:{change:t.thumb}}),t._v(" "),a("label",[t._v("Vertical")]),a("input",{staticStyle:{direction:"rtl"},attrs:{type:"range",id:"topcrop",min:"0",max:".5",step:".01",value:"0"},on:{change:t.thumb}}),t._v(" "),a("label",[t._v("Width")]),a("input",{staticStyle:{direction:"rtl"},attrs:{type:"range",id:"rightcrop",min:".5",max:"1",step:".01",value:"1"},on:{change:t.thumb}}),t._v(" "),a("label",[t._v("Height")]),a("input",{staticStyle:{direction:"rtl"},attrs:{type:"range",id:"bottomcrop",min:".5",max:"1",step:".01",value:"1"},on:{change:t.thumb}})])]):t._e()]):t._e(),t._v(" "),t.user?a("div",{staticClass:"grid-m-a"},[a("label",[t._v("ชื่อ")]),t._v(" "),t.edit?a("input",{attrs:{name:"firstName",autocomplete:"given-name"},domProps:{value:t.user.firstName}}):a("p",[t._v(t._s(t.user.firstName))]),t._v(" "),a("label",[t._v("นามสกุล")]),t._v(" "),t.edit?a("input",{attrs:{name:"lastName",autocomplete:"family-name"},domProps:{value:t.user.lastName}}):a("p",[t._v(t._s(t.user.lastName))]),t._v(" "),a("label",[t._v("หน่วยงาน")]),t._v(" "),t.edit?a("input",{attrs:{name:"department",autocomplete:"organization"},domProps:{value:t.user.department}}):a("p",[t._v(t._s(t.user.department))]),t._v(" "),a("label",[t._v("ตำแหน่ง")]),t._v(" "),t.edit?a("input",{attrs:{name:"function",placeholder:"ex. Professor",autocomplete:"organization-title",list:"suggests"},domProps:{value:t.user.function}}):a("p",[t._v(t._s(t.user.function))]),t._v(" "),t.summary?t._e():[a("label",[t._v("วันที่เริ่มทำงาน")]),t._v(" "),t.edit?a("input",{attrs:{name:"startwork",type:"date",max:(new Date).toISOString().split("T")[0]},domProps:{value:t.user.startwork}}):a("p",[t._v(t._s(t.user.startwork))]),t._v(" "),a("label",[t._v("Email")]),t._v(" "),t.edit?a("input",{attrs:{name:"email",autocomplete:"email"},domProps:{value:t.user.email}}):a("p",[a("a",{attrs:{href:"mailto:"+t.user.email}},[t._v(t._s(t.user.email))])]),t._v(" "),a("label",[t._v("เบอร์โทรศัพท์")]),t._v(" "),t.edit?a("input",{attrs:{name:"phone",type:"tel",autocomplete:"tel-national"},domProps:{value:t.user.phone}}):a("p",[t._v(t._s(t.user.phone))]),t._v(" "),a("label",[t._v("ที่อยู่")]),t._v(" "),t.edit?a("input",{attrs:{name:"address",autocomplete:"street-address"},domProps:{value:t.user.address}}):a("p",[t._v(t._s(t.user.address))]),t._v(" "),a("label",[t._v("ผลงานวิชาการ")]),t._v(" "),t.edit?a("TagList",{attrs:{list:t.user.publications,placeholder:"New Publication...",from:"/api/user",name:"publications[]"}}):a("ul",t._l(t.user.publications,function(e){return a("li",{key:e},[t._v(t._s(e))])}))],t._v(" "),a("label",[t._v("ความชำนาญหลัก")]),t._v(" "),t.edit?a("TagList",{staticClass:"tags",attrs:{list:t.user.domain,placeholder:"New Domain...",from:"/api/user",name:"domain[]"}}):a("ul",{staticClass:"tags"},t._l(t.user.domain,function(e){return a("li",{key:e},[t._v(t._s(e))])})),t._v(" "),a("label",[t._v("ความชำนาญรอง")]),t._v(" "),t.edit?a("TagList",{staticClass:"tags",attrs:{list:t.user.knowledge,placeholder:"New knowledge...",from:"/api/user",name:"knowledge[]"}}):a("ul",{staticClass:"tags"},t._l(t.user.knowledge,function(e){return a("li",{key:e},[t._v(t._s(e))])})),t._v(" "),a("label",[t._v("ความรู้ที่อยากฝึกฝนเพิ่มเติม")]),t._v(" "),t.edit?a("TagList",{staticClass:"tags",attrs:{list:t.user.additional,placeholder:"New additional knowledge...",from:"/api/user",name:"addtional[]"}}):a("ul",{staticClass:"tags"},t._l(t.user.additional,function(e){return a("li",{key:e},[t._v(t._s(e))])})),t._v(" "),a("label",[t._v("คำอธิบายเพิ่มเติม")]),t._v(" "),t.edit?a("textarea",{attrs:{name:"description",placeholder:"ex. Nobody suspect that I'm a robot",rows:"15"},domProps:{value:t.user.description}}):a("p",{domProps:{innerHTML:t._s(t.md(t.user.description))}}),t._v(" "),t.create?a("label",[t._v("Login")]):t._e(),t._v(" "),a("input",{attrs:{name:"_id",autocomplete:"username",required:"",type:t.create?"text":"hidden"},domProps:{value:t.user._id}}),t._v(" "),t.edit?a("label",[t._v("Password")]):t._e(),t._v(" "),t.edit?a("input",{attrs:{name:"password",type:"password",placeholder:"unchanged",autocomplete:"current-password"},domProps:{value:""}}):t._e()],2):t._e(),t._v(" "),a("datalist",{attrs:{id:"suggests"}}),t._v(" "),t.create||t.summary?t._e():[t._m(0),t._v(" "),t.user.activities&&t.user.activities.length?a("ul",t._l(t.user.activities,function(e){return a("li",{key:e._id},[a("router-link",{attrs:{to:{name:"Activity",params:{id:e._id}}}},[t._v(t._s(e.name))]),t._v(" "),a("form",{staticStyle:{display:"inline"},attrs:{method:"DELETE",action:"/api/activity/"+e._id},on:{submit:function(e){return e.preventDefault(),t.activityDelete(e)}}},[a("button",{staticStyle:{padding:"0",width:"2em"},attrs:{title:"delete"}},[t._v("❌")])])],1)})):a("p",[t._v("ไม่พบกิจกรรม")])],t._v(" "),t.summary?t._e():a("div",{staticClass:"fab"},[t.create?a("button",{attrs:{title:"Create"}},[t._v("✓")]):t._e(),t._v(" "),t.update&&!t.edit?a("button",{attrs:{title:"Edit"},on:{click:function(e){e.preventDefault(),t.editmode=!0}}},[t._v("✎")]):t._e(),t._v(" "),t.update&&t.edit?a("button",{attrs:{title:"Cancel"},on:{click:function(e){e.preventDefault(),t.editmode=t.avatar=!1}}},[t._v("✕")]):t._e(),t._v(" "),t.update&&t.edit?a("button",{attrs:{title:"Update"}},[t._v("✓")]):t._e()]),t._v(" "),t.edit||t.summary?t._e():[a("Graph",{attrs:{id:this.id}})]],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h2",[e("img",{attrs:{src:"/public/img/calendar-60.svg"}}),this._v(" รายการกิจกรรม")])}]};e.a=i}]);